var core={init:function(){if(window.self!=window.top){window.top.location=window.self.location}},navigator:function(){if(navigator.userAgent.indexOf("MSIE")>=0&&navigator.userAgent.indexOf("Opera")<0){return"ie"}else if(navigator.userAgent.indexOf("Firefox")>=0){return"firefox"}else if(navigator.userAgent.indexOf("Opera")>=0){return"opera"}else{return"unknow"}},ieLowBrower:function(){var b_name=navigator.appName;var b_version=navigator.appVersion;var version=b_version.split(";");var trim_version=version[1].replace(/[ ]/g,"");if(b_name=="Microsoft Internet Explorer"){if(trim_version=="MSIE8.0"||trim_version=="MSIE7.0"||trim_version=="MSIE6.0"){return true}else{return false}}else{return false}},placeHolder:function(){if(navigator.userAgent.indexOf("MSIE")>=0&&navigator.userAgent.indexOf("Opera")<0){$("input[type=text]").each(function(){var str=$(this).attr("placeholder");if($(this).val()==""){$(this).css("color","#999").val(str)}$(this).focus(function(){if($(this).val()==str){$(this).val("").css("color","#333")}}).blur(function(){if($(this).val()==""){$(this).val(str).css("color","#999")}})})}},ulHover:function(){$(".ulHover li").mouseover(function(){$(this).addClass("hover").siblings().removeClass("hover")}).mouseout(function(){$(this).removeClass("hover").siblings().removeClass("hover")})},wechatDlg:{share_Html:function(opts){var html="<div class='shareBox'>"+"<a class='share_close' href='javascript:void(null)'>X</a>"+"<p class='share_tit'>分享到微信朋友圈</p>"+"<p class='share_code'><img src='"+opts.codeUrl+"' /></p>"+"<p class='share_tips'>打开微信，点击“发现 ”，使用 “ 扫一扫 ” 即可将网页分享至朋友圈。</p>"+"</div>";return html},share_init:function(opts){var _parent=$(opts.obj).parent();if($(_parent).children(".shareBox").html()){$(".shareBox").remove();return false}$(".shareBox").remove();$(_parent).parents("ul").find("li").css({zIndex:0});$(_parent).parents("li").css({zIndex:1});$(_parent).append(core.wechatDlg.share_Html(opts));$(".share_close").click(function(){$(_parent).children(".shareBox").remove();return false})}},tips_scroll:{isAdd:true,init:function(opts){if(opts.show=="off")return;core.tips_scroll.scroll(opts)},scroll:function(opts){$(".outBox").prepend(core.tips_scroll.tipTopHtml(opts));var parentWidth="1130";var li=$(".top_tipsUl").find("li").eq(0);var right="-450";li.css("right",right);setInterval(function(){if(right>=parentWidth){right="-450";li.css({right:right})}else{right++;li.css({right:right})}},15)},tipTopHtml:function(opts){var url="javascript:void(null)";if(opts.link!="off"){url=opts.link}return"<div class='top_tips bg_white'><div class='autoW mc'><ul class='top_tipsUl'><li><a href='"+url+"'>"+opts.txt+"</a></li></ul></div></div>"}},checkBrower:{init:function(opts){$(".outBox").prepend(core.checkBrower.checkHtml(opts))},checkHtml:function(opts){return"<div class='checkBrower'><p class='tc'><i></i>Hi,您当前的浏览器版本过低，为保证您的浏览体验，建议您升级浏览器<a href='http://rj.baidu.com/soft/detail/14744.html' target='_blank'>Google chrome浏览器下载</a><a href='http://se.360.cn/' target='_blank'>360浏览器下载</a><a class='checkBrowerIgnore' href='javascript:void(null)'>忽略</a> </p></div>"}},bannerEvent:{_time:null,_obj:null,_t:5e3,_first:true,_length:5,_current:0,is_moving:false,bannerCore:function(_length){var html="<div class='bannerBox'>"+"<ul class='bannerMainUl'>";for(var i=0;i<_length;i++){html+="<li class='dn'></li>"}html+="</ul>"+"<ul class='bannerBtnUl'>";for(var i=0;i<_length;i++){html+="<li><a href='javascript:void(null);'><i class='bannerIcon'></i></a></li>"}html+="</ul>"+"<div class='flipBox preFlip'><p><i class='bannerIcon bannerIcon_3-01'></i></p></div>"+"<div class='flipBox nextFlip'><p><i class='bannerIcon bannerIcon_3-02'></i></p></div>"+"</div>";return html},bannerCon:function(num){var html0,html1,html2,html3,html4;html0="<div class='autoW mc banner_con'>"+"<div class='bannerInBox banner_01Box'>"+"<div class='banner_left'>"+"<h3 class='wow fadeInRight' data-wow-delay='0.1s'>持续性学习理念</h3>"+"<h5 class='wow fadeInRight' data-wow-delay='0.3s'>“三系一体”培养持续性学习习惯</h5>"+"<ul class='bpBox_list  wow fadeInRight' data-wow-delay='0.5s'>"+"<li>"+"<p><i class='bannerIcon bannerIcon_2-01'></i></p>"+"<p class='mt10'>专业的</p>"+"<p>课程设计</p>"+"</li>"+"<li>"+"<p><i class='bannerIcon bannerIcon_2-02'></i></p>"+"<p class='mt10'>7天学习</p>"+"<p>周循环</p>"+"</li>"+"<li>"+"<p><i class='bannerIcon bannerIcon_2-03'></i></p>"+"<p class='mt10'>双师陪伴辅</p>"+"<p>导服务体系</p>"+"</li>"+"</ul>"+"<div class='btn_lg_18 bg_27c c_white  wow fadeInRight' data-wow-delay='0.6s' onclick=\"window.location.href='/front/login/register'\">立即免费测评</div>"+"</div>"+"<div class='banner_right'>"+"<img src='//qitian-ui.b0.upaiyun.com/qitian-newsites/webviews/images/banner/banner_01_1.png' width='415' height='534' />"+"</div>"+"</div>"+"</div>"+"<div class='bannerBg banner_01bg'></div>";html1="<div class='autoW mc banner_con'>"+"<div class='bannerInBox banner_02Box'>"+"<div class='banner_left'>"+"<h3 class='wow fadeInRight' data-wow-delay='0.1s'>资深教学+专业辅导=有效的学习</h3>"+"<h5 class='wow fadeInRight' data-wow-delay='0.3s'>双师课堂，培养持续性学习能力</h5>"+"<div class='btn_lg_18 bg_27c c_white  wow fadeInRight' data-wow-delay='0.6s' onclick=\"window.location.href='/front/web-site/teacherlecture'\">点击了解详情</div>"+"</div>"+"</div>"+"</div>"+"<div class='bannerBg banner_02bg'></div>";html2="<div class='bannerBg zhuanti_homework_bannerbg'></div>";html3="<div class='autoW mc banner_con'>"+"<div class='bannerInBox banner_02Box'>"+"<div class='banner_left'>"+"<h3 class='wow fadeInRight c_333' data-wow-delay='0.1s'>小学语文体系升级</h3>"+"<p class='f40 wow fadeInRight c_333' data-wow-delay='0.3s'>学会阅读，让写作变得更简单</p>"+"<div class='btn_lg_18 bg_27c c_white  wow fadeInRight' data-wow-delay='0.6s' onclick=\"window.location.href='/front/login/register'\">点击免费体验</div>"+"</div>"+"<div class='banner_right'>"+"<img src='//qitian-ui.b0.upaiyun.com/qitian-newsites/webviews/images/banner/course_banner_01.png' width='962' height='548' />"+"</div>"+"</div>"+"</div>"+"<div class='bannerBg banner_04bg'></div>";html4="<div class='autoW mc banner_con'>"+"<div class='bannerInBox banner_02Box'>"+"<div class='banner_left'>"+"<p data-wow-delay='0.1s'><img src='//qitian-ui.b0.upaiyun.com/qitian-newsites/webviews/images/zhuanti/winter_spring/banner_ico.png' /></p>"+"<h3 class='wow fadeInRight c_333' data-wow-delay='0.1s'>打造更深入的课后辅导</h3>"+"<p class='f40 wow fadeInRight c_333' data-wow-delay='0.3s'>简单、高效、准确地解决学习问题</p>"+"<div class='btn_lg_18 bg_27c c_white  wow fadeInRight' data-wow-delay='0.6s' onclick=\"window.location.href='/front/web-site/winter-spring'\">点击查看详情</div>"+"</div>"+"<div class='banner_right'>"+"</div>"+"</div>"+"</div>"+"<div class='bannerBg zhuanti_winter_spring_bannerbg'></div>";if(num==0){return html0}else if(num==1){return html1}else if(num==2){return html2}else if(num==3){return html3}else if(num==4){return html4}},init:function(opts){opts.first=4;if(opts.first&&opts.first>0&&opts.first<core.bannerEvent._length){core.bannerEvent._current=opts.first}else{core.bannerEvent._current=0}$(opts.id).append(core.bannerEvent.bannerCore(core.bannerEvent._length));core.bannerEvent.animatActive(core.bannerEvent._current);$(".bannerMainUl li").bind("click",core.bannerEvent.mainUlEvent);$(".bannerBtnUl li").bind("click",core.bannerEvent.btnUlEvent);$(".preFlip").click(function(){var num=core.bannerEvent._current-1;if(num<0){num=core.bannerEvent._length-1}core.bannerEvent.animatActive(num)});$(".nextFlip").click(function(){var num=core.bannerEvent._current+1;if(num>=core.bannerEvent._length){num=0}core.bannerEvent.animatActive(num)})},mainUlEvent:function(){var index=$(this).index();if(index==2){window.open("/front/web-site/homework-talker","_self")}else if(index==3){window.open("/site-course.html","_self")}},btnUlEvent:function(e){var index=$(this).index();if(core.bannerEvent.is_moving)return;core.bannerEvent.animatActive(index)},intervalTime:function(_s){if(core.bannerEvent._first){core.bannerEvent._current=_s;$(".bannerMainUl li").empty().eq(_s).append(core.bannerEvent.bannerCon(_s));core.bannerEvent._first=false}core.bannerEvent._time=setInterval(function(){_s++;if(_s==core.bannerEvent._length){_s=0}core.bannerEvent.animatActive(_s)},core.bannerEvent._t)},animatActive:function(_s){core.bannerEvent.is_moving=true;core.bannerEvent._current=_s;var _this=$(".bannerBtnUl").find("li").eq(core.bannerEvent._current);clearInterval(core.bannerEvent._time);if($(_this).hasClass("active"))return false;$(_this).addClass("active").siblings().removeClass("active");var oldObj=$(".bannerMainUl").find("li.active");var newObj=$(".bannerMainUl").children("li").eq(core.bannerEvent._current);$(oldObj).animate({left:"-2000px"},"500",function(){$(oldObj).empty().removeClass("active")});$(newObj).empty().css("left","2000px").append(core.bannerEvent.bannerCon(core.bannerEvent._current));$(newObj).show().animate({left:"0px"},"500",function(){core.bannerEvent.intervalTime(core.bannerEvent._current);$(newObj).addClass("active");core.bannerEvent.is_moving=false})},slideRight:function(oldObj,newObj,startLeft,endLeft,duration){}},errorHandler:function(code){core.dialog.alertDlg({tit:"@_@!很抱歉，出错啦！",con:"错误代码："+code+"，请联系技术人员！",btn1:"好的"},function(e){console.log(e)})},validCode:{send_sms_pwd:function(){var mobile=$("#student_mobile").val();if(mobile==""){$(".validmsg").show().html("请输入手机号");return false}var rex=/^(1(3|4|5|7|8)([0-9]{9}))$/;if(!rex.test(mobile)){$(".validmsg").show().html("手机号码格式不正确");return false}if(core.formEvent.thisState){core.formEvent.thisState=false;$.post("/front/ajax/send-sms",{mobile:mobile},function(result){if(result.code==1){$(".validmsg").empty().hide();core.formEvent.s=60;clearInterval(core.formEvent._time);$(".validBtn").unbind("click",core.validCode.send_sms_pwd);core.formEvent.downTime(function(e){if(e==0){core.formEvent.thisState=true;$(".validBtn").removeClass("active").children(".getCode").val("获取验证码")}else{$(".validBtn").addClass("active").children(".getCode").val(e+"s 后重新获取")}})}else{$(".validmsg").show().html(result.msg);$(".validBtn").bind("click",core.validCode.send_sms_pwd);return false}},"json")}},verify_sms:function(mobile,code){$.post("/front/ajax/check-verifyc",{mobile:mobile,code:code},function(result){if(result.state==1){$(".validmsg").empty().hide();$("#student_mobile").val(mobile);core.dialog.closeDlg();if(result.is_new==0){}else{core.formEvent.send_code()}}else{$(".validmsg").show().html("请填写正确的图形验证码");$(".update_vcode").click();return false}},"json")},verify_sms_pwd:function(){var code=$(".input_pwd").val();var mobile=$("#student_mobile").val();var result_show=$("#result_show").val();if(code==""){$(".validmsg").show().html("您填写的验证码有误，请重新填写");return false}$.post("/front/ajax/check-sms-code",{code:code,mobile:mobile},function(result){if(result.state==1){}return false},"json")},check_phone:function(mobile,callback){var isMobile=/^(?:13\d|15\d|18\d|14\d|17\d)\d{5}(\d{3}|\*{3})$/;if(isMobile.test(mobile)){callback(1)}else{callback(0)}},getImgCode:function(obj,callback){var _hascode=$(obj).attr("hascode");if(_hascode==1){var _time="";var _second=60;$(obj).val(_second+"s 重新获取");$(obj).attr("hascode",0).addClass("active");_time=setInterval(function(){if(_second>0){_second--;$(obj).attr("hascode",0).addClass("active");$(obj).val(_second+"s 重新获取")}else{_second=0;$(obj).attr("hascode",1).removeClass("active");$(obj).val("重新获取");clearInterval(_time);if(callback){callback(0)}}},1e3)}else{return false}}},formEvent:{_time:"",s:60,thisState:true,downTime:function(fn){fn(core.formEvent.s);core.formEvent._time=setInterval(function(){core.formEvent.s--;if(core.formEvent.s==0){fn(core.formEvent.s);clearInterval(core.formEvent._time)}fn(core.formEvent.s)},1e3)},evaluating:function(){var html="";html="<div class='form_wrapper'>"+"<ul class='form_Ul'>"+"<li class='first-child'>"+"<div class='form_Box'>"+" <div class='form_row phone'>"+" <p class='p1'><i class='icon icon_4-01'></i></p>"+"<p class='p2'><input id='student_mobile' type='text' placeholder='手机号码'/></p>"+"</div>"+"</div>"+"</li>"+"<li>"+"<div class='form_Box'>"+"<div class='form_row validBox'>"+"<p class='p1'><i class='icon icon_4-02'></i></p>"+"<p class='p2'><input src='/front/ajax/verifyc' title='点击刷新' class='update_vcode' type='text' placeholder='图形验证码'/></p>"+"</div>"+"<div class='validImg'>"+" <img src='../images/login_valid.png' height='45'/>"+"</div>"+"</div>"+" </li>"+" <li>"+"<div class='form_Box '>"+"<div class='form_row validBox phonevalid'>"+"<p class='p1'><i class='icon icon_4-03'></i></p>"+"<p class='p2'><input type='text' placeholder='手机动态码'/></p>"+"</div>"+" <div class='validBtn'>"+"  <input type='button' thisState=true class='getCode btn btn_md_14  c_white bn' value='获取验证码'>"+"</div>"+" </div>"+"  </li>"+" <li>"+" <div class='form_Box'>"+"<div class='form_row  grade'>"+"<p class='p1'><i class='icon icon_4-04'></i></p>"+"<p class='p2'><input name='grade' type='text' placeholder='点击选择年级' readonly /></p>"+" <p class='p3'><i class='icon icon05_10'></i></p>"+"</div>"+" <div class='ulBox dn'>"+"<ul class='ulBut'>"+" <li>小三</li>"+" <li>小四</li>"+" <li>小五</li>"+" <li>小六</li>"+" <li>初一</li>"+" <li>初二</li>"+" <li>初三</li>"+"</ul>"+" </div>"+" </div>"+"</li>"+" </ul>"+"<div class='form_valid validmsg dn'></div>"+"<div class='form_btn'>"+"<a href='javascript:void(null)' class='btn btn_xl_18 bg_27c bn w c_white' >立即报名</a>"+"</div>"+"<div class='form_check'>"+"<p class='noValidCode'>多次未收到验证码请联系：<span>4007-880-777</span></p>"+"</div>"+"</div>";return html}},videoDlgEvent:function(opts){var html="<div class='videoBox p20 tc'>";html+='<OBJECT classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"';html+='codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,40,0"';html+='WIDTH="100%" HEIGHT="100%" id="myMovieName">';html+="    <PARAM NAME=movie VALUE="+opts.url+">";html+='    <param name="allowScriptAccess" value="sameDomain" />';html+='    <param name="wmode" value="Transparent"/>';html+='    <param name="allowFullScreen" value="true">';html+="    <PARAM NAME=quality VALUE=high>";html+="    <PARAM NAME=bgcolor VALUE=#FFFFFF>";if(opts.type=="mp4"){html+="    <embed src="+opts.url+' controls="ControlPanel,StatusBar" WIDTH="100%" HEIGHT="100%" autostart="true">'}else{html+="<EMBED src="+opts.url+' quality=high bgcolor=#FFFFFF WIDTH="100%" HEIGHT="100%"';html+='NAME="myMovieName" ALIGN="" TYPE="application/x-shockwave-flash"';html+='allowfullscreen="true"';html+='wmode="Transparent"';html+='PLUGINSPAGE="http://www.macromedia.com/go/getflashplayer">';html+="    </EMBED>"}html+="    </OBJECT>";html+="</div>";if(opts.id){$(opts.id).click(function(){core.dialog.videoDlg({con:html,width:"80%",height:"80%"})})}else{core.dialog.videoDlg({con:html,width:"80%",height:"80%"})}},userReg:{is_send:true,is_right:0,studentGrade:[],login:function(options,callback){core.dialog.closeDlg();$("#form_login").append(core.userReg.bodyHtml({width:"340px",con:core.userReg.loginhtml(options)}));core.userReg.dlgEvent(function(e){if(callback){callback(e)}})},signup:function(options,callback){core.dialog.closeDlg();$("#form_reg").append(core.userReg.bodyHtml({width:"340px",con:core.userReg.signuphtml(options)}));core.userReg.dlgEvent(function(e){if(callback){callback(e)}})},bodyHtml:function(options){var html="";html+="<div class='dlgOutBox signupDlgBox'>";html+="<div class='dlgBox' thisWidth="+options.width+">";html+="<div class='dlg_panel'>";if(options.tit){html+="<div class='dlg_tit'>"+options.tit+"</div>"}html+="<div class='dlg_con'>"+options.con+"</div>";html+="</div>";html+="</div>";html+="<div class='dlg_masker'></div>";html+="</div>";return html},loginhtml:function(options){var html="<div class='loginBox'>"+"<div class='form_wrapper'>"+"<div class='form_tit'>"+"<p class='tit'><i class='icon icon_3-09'></i><span>登录学习中心</span></p>"+"<p class='setpass goSignup'><a href='javascript:void(null)'>注册<span class='fs'> &gt;</span></a></p>"+"</div>"+"<div class='form_row'>"+"<p class='p1'><i class='icon icon_4-01'></i></p>"+"<p><input type='text' placeholder='手机号码' name='username' id='student_mobile' /></p>"+"</div>"+"<div class='form_row'>"+"<p class='p1'><i class='icon icon_4-05'></i></p>"+"<p class='pass1 '><input type='text' placeholder='请输入密码'/></p>"+"<p class='pass2'><input type='password'  name='password'/></p>"+"</div>"+"<div class='form_check'>"+"<p class='check'><input type='checkbox' name='rememberMe' checked /><span>自动登录</span></p>"+"<p class='findpass'><a  href='/front/login/reset-one'>忘记密码？</a></p>"+"</div>"+"<div class='form_valid'><p></p></div>"+"<div class='form_btn'>"+"<p class='check'><input class='btn btn_lg btn_ff8 btn_nobd w btn_login' type='button' value='立即登录' /></p>"+"</div>"+"</div>"+"</div>";return html},signuphtml:function(options){var html="<div class='loginBox'>"+"<div class='form_wrapper'>"+"<div class='form_tit'>"+"<p class='tit'><i class='icon icon_3-10'></i><span>新用户注册</span></p>"+"<p class='setpass goLogin'><a href='javascript:void(null)'>登录<span class='fs'> &gt;</span></a></p>"+"</div>"+"<div class='form_row'>"+"<p class='p1'><i class='icon icon_4-01'></i></p>"+"<p><input type='text' placeholder='手机号码'  name='username' id='student_mobile'/></p>"+"</div>"+"<div class='form_Box'>"+"<div class='form_row validBox'>"+"<p class='p1'><i class='icon icon_4-02'></i></p>"+"<p><input type='text' placeholder='图形验证码'  name='code' id='image_code' /></p>"+"</div>"+"<div class='validImg'>"+"<img src='/front/ajax/verifyc' class='yzm_img' />"+"</div>"+"</div>"+"<div class='form_Box phonevalid'>"+"<div class='form_row validBox'>"+"<p class='p1'><i class='icon icon_4-03'></i></p>"+"<p><input type='text' placeholder='手机验证码' name='mobile_code' id='mobile_code' /></p>"+"</div>"+"<div class='validBtn ml8'>"+"<input type='button' class='btn btn_md btn_nobd btn_60c7fd btn_mobile_code' hascode='1' value='获取验证码'>"+"</div>"+"</div>"+"<div class='form_Box selectGrade'>"+"<div class='form_row mt20 grade'>"+"<p class='p1'><i class='icon icon_4-04'></i></p>"+"<p><input name='sel_grade' type='text' placeholder='点击选择年级' readonly /></p>"+"<p class='p2'><i class='icon icon_3-08'></i></p>"+"<input type='hidden' id='grade' name='grade' value=''>"+"</div>"+"<div class='ulBox dn'>"+"<ul class='ulBut'>";for(var i=0;i<core.userReg.studentGrade.length;i++){html+="<li data-num="+core.userReg.studentGrade[i].key+">"+core.userReg.studentGrade[i].val+"</li>"}html+="</ul>"+"</div>"+"</div>"+"<div class='form_check'>"+"<p class='check'><input type='checkbox' name='agreement' /><span>阅读并接受</span><a href='/a-54-detail.html'>《七天课堂用户协议》</a></p>"+"</div>"+"<div class='form_valid'><p></p></div>"+"<div class='form_btn'>"+"<p class='check'><input class='btn btn_lg btn_27c btn_nobd w btn_reg' type='button' value='注册' /></p>"+"</div>"+"</div>"+"</div>";return html},dlgEvent:function(callback){var w=$(".dlgBox").attr("thisWidth");core.placeHolder();setTimeout(function(){if(w==""||w==null||w=="undefined"){w="700px"}var h=$(".dlgBox").height();var t=$(window).height()-parseInt(h);$(".dlgBox").css({width:w,top:t/2,marginLeft:-parseInt(w)/2})},0);$(".dlg_masker").height($(window).height());$(window).resize(function(){var w=$(".dlgBox").attr("thisWidth");var h=$(".dlgBox").height();if(w==""||w==null||w=="undefined"){w="700px"}var t=$(window).height()-parseInt(h);$(".dlg_masker").height($(window).height());$(".dlgBox").css({width:w,top:t/2,marginLeft:-parseInt(w)/2})});$(".goSignup").click(function(){core.userReg.signup()});$(".goLogin").click(function(){core.userReg.login()});$(".selectGrade").children(".grade").click(function(){$(this).siblings(".ulBox").toggle()});$(".ulBut li").click(function(){$(this).parents(".ulBox").hide().siblings(".grade").find("input[name=sel_grade]").val($(this).html());$(this).parents(".ulBox").siblings(".grade").find("input[name=grade]").val($(this).attr("data-num"))});$(".ulBut li").mouseover(function(){$(this).css({background:"#27c543",color:"#fff"})});$(".ulBut li").mouseout(function(){$(this).css({background:"none",color:"#333"})});$(".pass2").hide();$(".pass1 input").focus(function(){$(this).blur().parent().hide();$(".pass2").show().find("input").focus()});$(".pass2").find("input").focus(function(){}).blur(function(){if($(this).val()==""){$(this).parent().hide();$(".pass1").show()}});$(".dlg_masker, .dlg_closed").click(function(e){if(callback){callback(0)}core.dialog.closeDlg();e.stopPropagation();e.preventDefault()});$(".btn_login").click(function(e){var username=$("#form_login").find('input[name="username"]').val();var password=$("#form_login").find('input[name="password"]').val();var autoLogin=$("#form_login").find('input[name="rememberMe"]').prop("checked");var rememberMe=autoLogin?1:0;core.validCode.check_phone(username,function(e){if(e){$("div.form_valid p").html("");core.userReg.is_right=1}else{$("div.form_valid p").html("您输入的手机号有误，请重新输入")}});if(core.userReg.is_right==1){$.post("/ajax/ajax-user-login-check",{mobile:username,password:password,rememberMe:rememberMe},function(result){if(result.state==1){window.location.href=window.location.href}else{$("div.form_valid p").html(result.message)}},"json")}});$(".btn_reg").click(function(e){core.userReg.check_phone();if(core.userReg.is_right==1){core.userReg.check_code();if(core.userReg.is_right==1){var mobile=$("#student_mobile").val();var mobile_code=$("#mobile_code").val();var grade=$("#grade").val();if(mobile_code==""){$("div.form_valid p").html("请输入手机验证码");return false}if(grade==""){$("div.form_valid p").html("请选择年级");return false}if(!$("input[name='agreement']").is(":checked")){$("div.form_valid p").html("请先仔细阅读七天课堂用户协议");return false}$.post("/ajax/ajax-user-register",{mobile:mobile,mobile_code:mobile_code,grade:grade},function(result){if(result.state==1){window.location.href=window.location.href}else{$("div.form_valid p").html(result.message)}},"json")}}});$(".yzm_img").click(function(e){$(this).attr("src","/front/ajax/verifyc?v="+Math.random())});$(".btn_mobile_code").click(function(e){var _this=$(this);if(!core.userReg.is_send){return false}core.userReg.check_phone();if(core.userReg.is_right==1){core.userReg.check_code();if(core.userReg.is_right==1){var mobile=$("#student_mobile").val();$.post("/front/ajax/send-sms",{mobile:mobile},function(result){core.userReg.is_send=false;core.validCode.getImgCode(_this,function(e){if(e==0){core.userReg.is_send=true}})},"json")}}})},check_phone:function(){core.userReg.is_right=0;var mobile=$("#student_mobile").val();if(mobile!=""){core.validCode.check_phone(mobile,function(e){if(e){$.ajax({url:"/ajax/ajax-check-mobile-is-set",type:"POST",dataType:"JSON",data:"mobile="+mobile,async:false,success:function(msg){if(msg.state==1){if(msg.isset==1){$("div.form_valid p").html("该手机号已注册，请更换手机号")}else{$("div.form_valid p").html("");core.userReg.is_right=1}}else{alert(msg.message)}}})}else{$("div.form_valid p").html("您输入的手机号有误，请重新输入")}})}else{$("div.form_valid p").html("手机号未填写")}},check_code:function(){core.userReg.is_right=0;var image_code=$("#image_code").val();if(image_code!=""){$.ajax({url:"/front/ajax/check-verifyc",type:"POST",dataType:"JSON",data:"code="+image_code,async:false,success:function(msg){if(msg.state==1){$("div.form_valid p").html("");core.userReg.is_right=1}else{$("div.form_valid p").html("您输入的图形码有误，请重新输入");$("#image_code_img").click()}}})}else{$("div.form_valid p").html("图形码未填写")}}},dialog:{tipsDlg:function(options){core.dialog.closeDlg();$("body").append(core.dialog.tipsHtml(options));core.dialog.dlgEvent();setTimeout(function(){$(".dlgOutBox").animate({opacity:0},1e3)},2e3)},xiaoqiDlg:function(options,callback){core.dialog.closeDlg();$("body").append(core.dialog.dlgHtml_XQ(options));core.placeHolder();$(".update_vcode").click(function(){$(this).attr("src","/front/ajax/verifyc?v="+Math.random())});$(".update_vcode").click();$(".validBtn").bind("click",core.validCode.send_sms_pwd);$(".grade").click(function(){$(".ulBox").toggle()});$(".ulBut li").click(function(){$(".ulBox").hide();$("input[name=grade]").val($(this).html())});$(".ulBut li").mouseover(function(){$(this).css({background:"#27c543",color:"#fff"})});$(".ulBut li").mouseout(function(){$(this).css({background:"none",color:"#333"})});core.dialog.dlgEvent(function(e){if(callback){callback(e)}})},videoDlg:function(options,callback){core.dialog.closeDlg();$("body").append(core.dialog.dlgVideoHtml(options));var t=setInterval(function(){if($(".videoBox embed").height()!=$(".dlg_con").height()-40){$(".videoBox embed").height($(".dlg_con").height()-40)}else{clearInterval(t)}},200);core.dialog.dlgVideoEvent(function(e){if(callback){callback(e)}})},alertDlg:function(options,callback){core.dialog.closeDlg();$("body").append(core.dialog.dlgHtml(options));core.dialog.dlgEvent(function(e){if(callback){callback(e)}})},dlgHtml:function(options){var html="";html+="<div class='dlgOutBox'>";html+="<div class='dlgBox' thisWidth="+options.width+">";html+="<div class='dlg_panel'>";html+="<a class='dlg_closed' href='javascript:void(null);'><i class='icon icon_3-07'></i></a>";if(options.tit){html+="<div class='dlg_tit'>"+options.tit+"</div>"}html+="<div class='dlg_con'>"+options.con+"</div>";html+="<div class='dlg_foot'>";if(!options.btn1&&options.btn2){html+="<div data-num='2' class='dlgBtn btn btn_lg_18 btn_grey bn' >"+options.btn2+" </div>"}else if(options.btn1&&options.btn2){html+="<div data-num='2' class='dlgBtn btn btn_lg_18 btn_grey bn mr10' >"+options.btn2+" </div>";html+="<div data-num='1' class='dlgBtn btn btn_lg_18 btn_27c bn '>"+options.btn1+"</div>"}else if(options.btn1&&!options.btn2){html+="<div data-num='1' class='dlgBtn btn btn_lg_18 btn_27c bn'>"+options.btn1+"</div>"}html+="</div>";html+="</div>";html+="</div>";html+="<div class='dlg_masker'></div>";html+="</div>";return html},tipsHtml:function(options){var html="";html+="<div class='dlgOutBox tips'>";html+="<div class='dlgBox' thisWidth="+options.width+">";html+="<div class='dlg_panel'>";html+="<div class='dlg_con'><div class='ub "+options.fontColor+"'><p><i class='"+options.warmIco+" mr10'></i></p><p class='ub_f1 tl'>"+options.con+"</p></div></div>";html+="</div>";html+="</div>";html+="</div>";return html},dlgVideoHtml:function(options){var html="";html+="<div class='dlgOutBox videoBox'>";html+="<div class='dlgBox' thisWidth="+options.width+" thisHeight="+options.height+">";html+="<div class='dlg_panel'>";html+="<a class='dlg_closed' href='javascript:void(null);'><i class=''></i></a>";html+="<div class='dlg_con'>"+options.con+"</div>";html+="</div>";html+="</div>";html+="<div class='dlg_masker'></div>";html+="</div>";return html},dlgHtml_XQ:function(options){var html="";html+="<div class='dlgOutBox xiaoqiDlgBox'>";html+="<div class='dlgBox' thisWidth="+options.width+" thisHeight="+options.height+">";html+="<div class='dlg_panel'><i class='dlg_xq dlgIco'></i>";if(options.tit){html+="<div class='dlg_tit'>"+options.tit+"</div>"}html+="<div class='dlg_con'>"+options.con+"</div>";html+="</div>";html+="</div>";html+="<div class='dlg_masker'></div>";html+="</div>";return html},closeDlg:function(){$(".dlgOutBox").empty().remove()},dlgVideoEvent:function(callback){var w=$(".dlgBox").attr("thisWidth");var h=$(".dlgBox").attr("thisHeight");if(w==""||w==null){w="700px"}if(h==""||h=="undefined"){h=$(".dlgBox").height()}$(".dlg_masker").height($(window).height());$(".dlgBox").css({width:w,height:h});$(window).resize(function(){var w=$(".dlgBox").attr("thisWidth");var h=$(".dlgBox").attr("thisHeight");if(w==""||w==null){w="700px"}if(h==""||h=="undefined"){h=$(".dlgBox").height()}$(".dlg_masker").height($(window).height());$(".dlgBox").css({width:w,height:h})});$(".dlg_masker, .dlg_closed").click(function(e){if(callback){callback(0)}core.dialog.closeDlg();e.stopPropagation();e.preventDefault()})},dlgEvent:function(callback){var w=$(".dlgBox").attr("thisWidth");if(w==""||w=="undefined"){w="700px"}$(".dlg_masker").height($(window).height());$(".dlgBox").css({width:w,top:$(window).height()/2-$(".dlgBox").height()/2,marginLeft:-parseInt(w)/2});$(window).resize(function(){var w=$(".dlgBox").attr("thisWidth");if(w==""||w=="undefined"){w="700px"}$(".dlg_masker").height($(window).height());$(".dlgBox").css({width:w,top:$(window).height()/2-$(".dlgBox").height()/2,marginLeft:-parseInt(w)/2})});$(".dlgBtn").click(function(){var num=$(this).attr("data-num");if(callback){callback(num)}core.dialog.closeDlg()});$(".dlg_masker, .dlg_closed").click(function(e){if(callback){callback(0)}core.dialog.closeDlg();e.stopPropagation();e.preventDefault()})}}};